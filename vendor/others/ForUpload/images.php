<?phpnamespace ForUploads;use Nette;/** * Trieda s podpornymi funkciami pre upload obrazkov * Posledna zmena(last change): 20.04.2015 *  * @author Ing. Peter VOJTECH ml. <petak23@gmail.com> * @copyright  Copyright (c) 2012 - 2015 Ing. Peter VOJTECH ml. * @license * @link       http://petak23.echo-msz.eu * @version 1.0.0 */class Images extends Nette\Object {    /**    * Funkcia najde jedinecne meno pre subor ak je zadana spolocna cast nazvu suboru   * @param string $image_dir Adresar na ukladanie   * @param string $name_base Spolocna cast nazvu   * @param string $ext       Koncovka suboru   * @return string   */  private function _nameWithBase($image_dir, $name_base, $ext) {    $additionalToken = 1;    if (file_exists($image_dir.$name_base.$additionalToken.$ext)) {      do{        $additionalToken++;      } while (file_exists($image_dir.$name_base.$additionalToken.$ext));    }    return $name_base.$additionalToken.$ext;  }    /**   * Funkcia najde jedinecne meno pre subor ak nie je zadana spolocna cast nazvu suboru   * @param string $image_dir Adresar na ukladanie   * @param string $file      Nazov suboru   * @param string $ext       Koncovka suboru   * @return string   */  private function _nameNotBase($image_dir, $file, $ext) {    $additionalToken = 0;    if (file_exists($image_dir.$file.$ext)) {      do{        $additionalToken++;      } while (file_exists($image_dir.$file.$additionalToken.$ext));    }    return $additionalToken == 0 ? $file.$ext : $file.$additionalToken.$ext;  }  /**   * Funkcia pre zistenie jedinecneho nazvu suboru pri uploade   * @param string $image_dir Adresar na ukladanie   * @param string $file_name Nazov Suboru   * @param string $name_base Spolocna cast nazvu - volitelna   * @return string   */  public function getImageNameIndex($image_dir, $file_name, $name_base = NULL) {    $pi = pathinfo($file_name);    $ext = ".".$pi['extension'];    return isset($name_base) ? $this->_nameWithBase($image_dir, $name_base, $ext) : $this->_nameNotBase($image_dir, $pi['filename'], $ext);  }}